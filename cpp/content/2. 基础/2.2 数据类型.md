---
title: "2.2 数据类型"
date: 2019-08-30T15:13:01+08:00
weight: 02020000
---
## 数据类型

| 名称 | 字节数 | 描述 | 范围 |
| :--- | :--- | :--- | :--- |
| Char |  1 |  字符（character）或整数（integer ）， 8位（bits）长 | 有符号（signed）: -128 到 127<br>  无符号（unsigned）: 0 到 255 |
| short int (short) | 2 | 短整数（integer ）16位（bits）长| 有符号（signed）: -32768 到 32767 <br>  无符号（unsigned）: 0 到 65535|
| long int (long) | 4 | 长整数（integer ）32位（bits）长| 有符号（signed）:-2147483648 到 2147483647 <br> 无符号（unsigned）: 0 到 4294967295|
| int | 4 | 整数（integer） |有符号(signed): -2147483648 到 2147483647 <br> 无符号（unsigned): 0 到 4294967295|
| float | 4 | 浮点数（floating point number）| 3.4e + / - 38 （7 个数字（7digits））|
| double | 8 | 双精度浮点数（double precision floating point number）| 1.7e + / - 308 (15 digits)|
| long double | 8 | 长双精度浮点数（long double precision floating point number）| 1.7e + / - 308 (15 digits)|
| bool | 1 | 布尔Boolean值。它只能是真(true)或假(false)两值之一。 |true 或 false|
| wchar_t | 2 | 宽字符(Wide character) 。这是为存储两字节(2 bytes) 长的国际字符而设计的类型。| 一个宽字符（1 wide characters） <br> * 字节数一列和范围一列可能根据程序编译和运行的系统不同而有所不同。<br> 这里列出的数值是多数32位系统的常用数据。<br> 对于其他系统，通常的说法是整型(int)具有根据系统结构建议的自然长度（即一个字one word的长度），而4中整型数据char, short, int, long的长度必须是递增的，也就是说按顺序每一类型必须大于等于其前面一个类型的长度。<br> 同样的规则也适用于浮点数类型float, double和 long double，也是按递增顺序。|

除以上列出的基本数据类型外，还有指针（pointer）和void 参数表示类型，我们将在后面看到。

| 说明 | 字符型 | 短整型 | 整型 | 长整型 | 单精度浮点型 | 双精度浮点型 | 无类型 |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| 数据类型 | char | short | int | long | float | double | void |

在32位环境中，各种数据类型的长度一般如下：

| 说明 | 字符型 | 短整型 | 整型 | 长整型 | 单精度浮点型 | 双精度浮点型 |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| 数据类型 | char | short | int | long | float | double |
| 长度 | 1 | 2 | 4 | 4 | 4 | 8 |

## 整数

    int 称为整型，short 称为短整型，long 称为长整型，它们的长度（所占字节数）关系为：
    short <= int <= long
    它们具体占用几个字节C语言并没有规定，C语言只做了宽泛的限制：
    short 至少占用2个字节。
    int 建议为一个机器字长。32位环境下机器字长为4字节，64位环境下机器字长为8字节。
    short 的长度不能大于 int，long 的长度不能小于 int。
    在64位环境下，不同的操作系统会有不同的结果，如下所示（长度以字节计）：

| 操作系统 | short | int | long |
| :--- | :--- | :--- | :--- |
| Win64 | 2 | 4 | 4 |
| 类Unix系统（包括 Unix、Linux、OS X、BSD、Solaris 等） | 2 | 4 | 8 |

    int a_length = sizeof a;
    int b_length = sizeof(int);

    unsigned 定义无符号，不设置符号位

    十进制数由 0~9 十个数字组成，没有前缀. 237、-568、65535、1627
    进制数由 0~7 八个数字组成，必须以0开头，即以0作为八进制数的前缀。015（十进制为13）、-0101（十进制为-65）、0177777（十进制为65535）
    十六进制数由数字0~9、字母A~F或a~f组成，前缀为0X或0x。0X2A（十进制为42）、-0XA0（十进制为-160)、0xffff（十进制为65535）

    可以用后缀L或l来表示长整型数.
    十进制长整型数：158L、358000L
    八进制长整型数：012L、077L、0200000L
    十六进制长整型数：0X15L (十进制为21)、0XA5L、0X10000L

    可以用后缀U或u来表示无符号数，例如 358u、0x38Au等

## 浮点数

    float 称为单精度浮点数，double 称为双精度浮点数。不像整数，小数的长度始终是固定的，float 占用4个字节，double 占用8个字节

    将整数赋值给 float 变量时会转换为小数

    float b=0.302f;
    小数默认为 double 类型，加上后缀f才是float类型。

## 字符

    char 称为字符类型，只能用单引号' '来包围，不能用双引号" "包围。
    而字符串只能用双引号" "包围，不能用单引号' '包围。

## 数据类型转换

    数据类型转换就是将数据（变量、表达式的结果）从一种类型转换到另一种类型。例如，为了保存小数你可以将int类型的变量转换为double类型。

    数据类型转换的一般格式为：
    (type_name) expression
    type_name为要转换到的数据类型，expression为表达式。

    类型转换运算符( )的优先级高于/
    (double) sum / count会先将 sum 转换为 double 类型，然后再进行除法运算。如果写作(double) (sum / count)，那么运行结果就是 3.000000

    这种由程序员显式进行的转换称为强制类型转换。
    除了强制类型转换，在不同数据类型的混合运算中编译器也会隐式地进行数据类型转换，称为自动类型转换。

    自动类型转换遵循下面的规则：
    1.若参与运算的数据类型不同，则先转换成同一类型，然后进行运算。
    2.转换按数据长度增加的方向进行，以保证精度不降低。例如int型和long型运算时，先把int量转成long型后再进行运算。
    3.所有的浮点运算都是以双精度进行的，即使仅含float单精度量运算的表达式，也要先转换成double型，再作运算。
    4.Char型和short型参与运算时，必须先转换成int型。
    5.在赋值运算中，赋值号两边的数据类型不同时，需要把右边表达式的类型将转换为左边变量的类型。如果右边表达式的数据类型长度比左边长时，将丢失一部分数据，这样会降低精度。
