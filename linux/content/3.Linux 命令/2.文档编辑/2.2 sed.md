---
title: "2.2 sed"
date: 2019-08-30T15:13:01+08:00
---

## sed

<http://man.linuxde.net/sed>  
sed是一种流编辑器，它是文本处理中非常中的工具，能够完美的配合正则表达式使用，功能不同凡响。处理时，把当前处理的行存储在临时缓冲区中，称为“模式空间”（pattern space），接着用sed命令处理缓冲区中的内容，处理完成后，把缓冲区的内容送往屏幕。接着处理下一行，这样不断重复，直到文件末尾。文件内容并没有 改变，除非你使用重定向存储输出。Sed主要用来自动编辑一个或多个文件；简化对文件的反复操作；编写转换程序等

```bash  
# Sed是一个基本的查找替换程序。可以从标准输入（比如命令管道）读入文本，并将结果输出到标准输出（屏幕）。该命令采用正则表达式（见参考）进行搜索。不要和shell中的通配符相混淆。

sed [options] 'command' file(s)
sed [options] -f scriptfile file(s)

-e<script>或--expression=<script>：以选项中的指定的script来处理输入的文本文件；
-f<script文件>或--file=<script文件>：以选项中指定的script文件来处理输入的文本文件；
-h或--help：显示帮助；
-n或--quiet或——silent：仅显示script处理后的结果；
-V或--version：显示版本信息。

# 比如：将linuxfocus替换为 LinuxFocus
cat text.file | sed ’s/linuxfocus/LinuxFocus/’ >newtext.fileawk: awk 
# 用来从文本文件中提取字段。缺省地，字段分割符格，可以使用-F指定其他分割符。


sed -i "s/book/books/g" file -i 直接修改文件内容，会匹配file文件中每一行的第一个book替换为books
sed -i "s/127.0.0.1/192.168.1.16/" priv/docroot/index.html 把index.html 中的127.0.0.1替换成192.168.1.6
sed "s/book\"\//books\"\//" file  替换文本中的字符串
sed -n "s/test/TEST/p" file -n选项和p命令一起使用表示只打印那些发生替换的行
sed "s/book/books/g" file 使用后缀 /g 标记会替换每一行中的所有匹配
sed -i 's/ -Werror//g' `grep -rl " -Werror" ./` 


```
